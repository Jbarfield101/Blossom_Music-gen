<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Blossom Music Generator</title>
    <style>
      body {
        margin: 0;
        padding: 1rem;
        background: #111;
        color: #fff;
        font-family: sans-serif;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
      .row {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
      }
      select, input, button {
        padding: 0.4rem;
      }
      #logs {
        background: #222;
        padding: 0.5rem;
        flex: 1;
        overflow-y: auto;
      }
      progress {
        flex: 1;
      }
      #progbar {
        align-items: center;
      }
    </style>
  </head>
  <body>
    <div class="row" id="inputs">
      <label>Preset <select id="preset"></select></label>
      <label>Style <select id="style"><option value="">(default)</option></select></label>
      <label>Minutes <input type="number" step="0.1" id="minutes" /></label>
      <label>Sections <input type="number" id="sections" /></label>
      <label>Seed <input type="number" id="seed" value="42" /></label>
      <label>Output name <input type="text" id="name" value="output" /></label>
      <label>Output folder
        <input type="text" id="outdir" readonly />
        <button id="choose_outdir" type="button">üìÅ</button>
      </label>
    </div>

    <details id="advanced">
      <summary>Advanced</summary>
      <label>Mix config <input type="file" id="mix_config" accept=".json,application/json" /></label>
      <label>Arrange config <input type="file" id="arrange_config" accept=".json,application/json" /></label>
      <label><input type="checkbox" id="phrase" /> Phrase backend</label>
      <label>Preview bars <input type="number" id="preview" /></label>
    </details>

    <div class="row">
      <button id="start-btn">Start</button>
      <button id="cancel-btn" style="display:none;">Cancel</button>
      <button id="download-btn" style="display:none;">Download bundle</button>
    </div>
    <div id="progbar" class="row">
      <progress id="progress" value="0" max="100"></progress>
      <div id="stage"></div>
    </div>
    <div id="eta"></div>
    <pre id="logs"></pre>
    <div id="results" style="display:none;">
      <h3>Results</h3>
      <ul id="links"></ul>
      <ul id="summary"></ul>
    </div>
    <div id="recent">
      <h3>Recent Renders</h3>
      <ul id="recent_list"></ul>
    </div>
    <input type="file" id="outdir_picker" webkitdirectory directory hidden />
    <script src="/static/app.js"></script>
  </body>
</html>
